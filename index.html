<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine</title>
    <style>
        :root {
            --bg-color: #a8e6cf; 
            --cat-color: #ffb74d;  
        }

        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Courier New', monospace; }
        
        #sky { position: absolute; top: 0; width: 100%; height: 40vh; background: linear-gradient(to bottom, #87ceeb, #a8e6cf); transition: 2s; }
        #meadow { position: absolute; bottom: 0; width: 100%; height: 75vh; background: linear-gradient(to bottom, #7bc67b 0%, #45a045 100%); transition: 2s; }

        #rain { display: none; position: absolute; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: 150; pointer-events: none; }

        .card {
            position: absolute; top: 15%; left: 50%; transform: translateX(-50%);
            background: white; padding: 40px; text-align: center; z-index: 200;
            border: 6px solid #ff5252; border-radius: 30px; box-shadow: 0 10px 0px rgba(0,0,0,0.1);
        }

        .btn-group { display: flex; gap: 20px; justify-content: center; margin-top: 20px; }
        button { border: none; padding: 12px 30px; font-size: 1.2rem; cursor: pointer; border-radius: 50px; }
        #yesBtn { background: #ff5252; color: white; }
        #noBtn { background: #999; color: white; }

        /* The Cat */
        .cat {
            position: absolute; 
            bottom: 15%; 
            left: 50%; 
            transform: translateX(-50%);
            width: 100px; 
            height: 90px; 
            background: var(--cat-color);
            border-radius: 40px 40px 10px 10px;
            z-index: 100; 
            border: 3px solid #333; 
            transition: 1s;
        }

        .cat::before, .cat::after {
            content: ''; 
            position: absolute; 
            top: -15px;
            width: 0; 
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 25px solid var(--cat-color);
        }
        .cat::before { left: 5px; transform: rotate(-10deg); }
        .cat::after { right: 5px; transform: rotate(10deg); }

        #face-content { position: relative; width: 100%; height: 100%; text-align: center; color: #333; }
        .eyes { position: absolute; top: 20px; width: 100%; font-size: 30px; font-weight: bold; }
        .mouth { position: absolute; top: 35px; width: 100%; font-size: 20px; }

        /* THE ROPE LOOP */
        #sorrow-item {
            display: none; 
            position: absolute; 
            right: -25px; /* Positioned relative to the cat */
            top: -110px;  /* Hangs down from above */
            width: 6px; 
            height: 100px; 
            background: #795548; 
            border-radius: 5px;
            z-index: 95;
        }
        #sorrow-item::after {
            content: ''; 
            position: absolute; 
            bottom: -40px; 
            left: -22px; 
            width: 40px; 
            height: 55px; 
            border: 6px solid #795548; 
            border-radius: 50%; /* This creates the actual loop/hole */
        }

        /* The Tree - Shifted further left */
        #tree {
            display: none; 
            position: absolute; 
            bottom: 15%; 
            left: 32%; /* Moved further left to avoid overlapping the cat */
            width: 50px; 
            height: 220px; 
            background: #5d4037; 
            z-index: 80;
        }
        #tree::after {
            content: ''; 
            position: absolute; 
            top: -70px; 
            left: -80px;
            width: 220px; 
            height: 140px; 
            background: #2e7d32; 
            border-radius: 50%;
        }

        .flower { position: absolute; width: 15px; height: 30px; transform-origin: bottom center; animation: sway 3s infinite; }
        @keyframes sway { 0%, 100% { transform: rotate(-3deg); } 50% { transform: rotate(4deg); } }
    </style>
</head>
<body>

    <div id="sky"></div>
    <div id="rain"></div>

    <div class="card" id="mainCard">
        <h1 id="msg">Willst du mein Valentin sein?</h1>
        <div class="btn-group" id="btns">
            <button id="yesBtn" onclick="handleYes()">YES!</button>
            <button id="noBtn" onclick="handleNo()">No</button>
        </div>
    </div>

    <div class="meadow" id="meadow"></div>

    <div id="tree"></div>
    <div class="cat" id="cat">
        <div id="face-content">
            <div class="eyes" id="catEyes">•   •</div>
            <div class="mouth" id="catMouth">v</div>
        </div>
        <div id="sorrow-item"></div>
    </div>

    <audio id="romanticMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <script>
        const meadow = document.getElementById('meadow');
        for (let i = 0; i < 100; i++) {
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.left = Math.random() * 100 + '%';
            flower.style.bottom = Math.random() * 100 + '%';
            flower.innerHTML = `<div style="width:3px;height:100%;background:#2e7d32;margin:0 auto;"></div>
                                <div style="position:absolute;top:-10px;left:2px;width:12px;height:12px;background:#ff5252;border-radius:50%"></div>`;
            meadow.appendChild(flower);
        }

        function handleYes() {
            document.getElementById('msg').innerHTML = "JAA!! JUHUUU!! ";
            document.getElementById('romanticMusic').play();
            document.getElementById('btns').style.display = "none";
        }

        function handleNo() {
            document.getElementById('sky').style.background = "#1a1a1a";
            document.getElementById('meadow').style.filter = "grayscale(100%) brightness(0.4)";
            document.getElementById('rain').style.display = "block";
            document.getElementById('tree').style.display = "block";
            document.getElementById('sorrow-item').style.display = "block";
            
            // Cat Transformation
            document.documentElement.style.setProperty('--cat-color', '#333'); 
            document.getElementById('catEyes').innerHTML = "×   ×"; // Dead/Sad eyes
            document.getElementById('catMouth').innerHTML = "︿"; // Sad mouth
            document.getElementById('catMouth').style.top = "45px";
            
            document.getElementById('msg').innerHTML = "Aufwiedersehen grausame Welt...";
            document.getElementById('btns').style.display = "none";
        }
    </script>
</body>
</html>
